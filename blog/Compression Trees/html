<!DOCTYPE html PUBLIC
 "+//ISBN 0-9673008-1-9//DTD OEB 1.0.1 Document//EN"
 "http://openebook.org/dtds/oeb-1.0.1/oebdoc101.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11"> 
<link rel="icon" type="image/svg+xml" href=".../revolution/Technoanarchist/logo/letter/" />
<link rel="icon" type="image/png" href=".../revolution/Technoanarchist/logo/letter/png" />
<link rel="stylesheet" type="text/css" href=".../style/blog/css"/>
<link rel="stylesheet" type="text/css" href=".../lib/jquery-ui/css"/>
<link rel="stylesheet" type="text/css" href="css"/>
<title>Compression Trees</title>
</head>
<body>
<h1>Compression Trees</h1>
<h2>by Will Holcomb</h2>

<hr/>

<p>I've been considering a storage system and have been trying it out in the filesystem. I want to describe that a bit and discuss implications I think it has.</p>

<p>There are three main changes to the system:</p>

<h2>Stub Names</h2>

<p>Filenames are decomposed into directories containing files whose names are what were previously the file extensions. For example, consider the contents of my <a href=".../image/">image collection</a>. When I started I had files like:</p>

<ul>
  <li><a href=".../image/kitten/head/svg">kitten_head.svg</a></li>
  <li><a href=".../image/light bulb/svg">light bulb.svg</a></li>
  <li><a href=".../image/flag/England/">Flag of England.svg</a></li>
</ul>

<p>Converting them to stub form they become:</p>

<ul>
  <li><a href=".../image/kitten/head/svg">kitten/head/svg</a></li>
  <li><a href=".../image/light bulb/svg">light bulb/svg</a></li>
  <li><a href=".../image/flag/England/">flag/England/svg</a></li>
</ul>

<p>The directories leading up to the file are a list of increasingly specific tags. Part of the point of stub links is to ease comprehensible of alternate paths. For example, the path: <code><a href=".../book/by/Nancy Kress/Beggars in Spain/html">book/by/Nancy Kress/Beggars in Spain/html</a></code>. The directory <code>Beggars in Spain</code> is also linked to from:</p>

<ul>
  <li>magazine/Asimov's Science Fiction/1991/April/Nancy Kress/Beggars in Spain</li>
  <li>book/award/Hugo/winner/1992</li>
  <li>book/award/Nebula/winner/1992</li>
  <li>book/collection/The Year's Best Science Fiction/9th/Nancy Kress/Beggars in Spain</li>
  <li>book/collection/The Year's Best Science Fiction/9th/1</li>
</ul>

<h2>Relative Roots</h2>

<p>Each directory contains a <code>...</code> subdirectory which is a symlink to <code>../...</code>. The one exception is the root of the filesystem where <code>...</code> is a link to <code>.</code>.</p>

<p>Structurally this creates a tree that looks like:</p>

<object id="fsdiagram" data=".../lib/mimis/tree/in/filesystem/svg"/>

<p></p>

<h2>Indirected Binaries</h2>

<p>All binary files are stored as links to <code>.../hashes/</code></p>
</body>
</html>
