/**
 * Provides a jQuery interface to the DOM of the page where an applet
 * is executing this script.
 *
 * hostApplet is a reference to the applet
 */

//var $holder = $('<div/>')

print( "Entering: jquery/indirect/" + "\n" )

var JSObject = Packages.netscape.javascript.JSObject

var $ = function() {
    print( "Entering: jquery/indirect/$" + "\n" )
    var window = JSObject.getWindow( hostApplet )
    if( window ) {
        var args = Array.prototype.slice.call( arguments )
        var ret = window.call( 'indirectJQuery', args )
        print( "Returned: " + ret + "\n" )
        var ret = window.call( 'indirectJQuery', [ ret ] )
    } else {
        print( "Couldn't get window" + "\n" )
    }
}
