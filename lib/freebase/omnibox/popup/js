chrome.browserAction.onClicked.addListener( function( tab ) {
    chrome.tabs.executeScript( null, { code : "document.body.bgColor='red'" } )

    chrome.browserAction.setBadgeText( {
        text : "#"
    } )
} )

chrome.browserAction.setBadgeBackgroundColor( {
    color : [0, 200, 0, 100]
} )

( function() {
    var i = 0
    window.setInterval( function() {
        chrome.browserAction.setBadgeText( {
            text : String( i++ )
        } )
    }, 1000 )
} )()
