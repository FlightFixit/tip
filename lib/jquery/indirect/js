var $objs = {}

function indirectJQuery() {
    console.log( 'indirectJQuery called' )
    console.log( arguments )
    var $obj = $.apply( $, arguments )
    $obj.guid || ( $obj.guid = $.guid++ )
    $objs[ $obj.guid ] = $obj
    $obj.appendByGUID = function() {
        var args = Array.prototype.slice.call( arguments )
        var guid = args.shift()
        args.unshift( $objs[ guid ] )
        console.log( "Append Arguments: " + guid )
        console.log( args )
        $obj.append.apply( $obj, args )
    }
    $obj.clickByGUID = function( guid ) {
        $obj.click( function() {
            var applet = $('applet').get(0)
            applet.guidClicked( guid )
        } )
    }
    console.log( $obj )
    console.log( $objs )
    return $obj
}
