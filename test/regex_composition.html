<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>Building Javascript Regexes</title>
    <link type="text/css" rel="stylesheet" href="javascript_test.css" />
    <style type="text/css">
    </style>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
    <script type="text/javascript">//<![CDATA[
      var num = '[+-]?\\d+(?:\\.\\d*)?'
      var pattern = '([a-z]+)\\(\\s*(' + num + ')(?:\\s*,\\s*(' + num + ')){0,3}\\)';
      var regex = new RegExp(pattern, 'gi');

      $(document).ready(function() {
        $('#regex').text(pattern);
      });

      function match(text) {
        var match = regex.exec(text);
        var list = $('<ul/>');
        $('body').append(list);
        text = $('<li/>').text(text);
        list.append(text);
        if(!match) {
          list.append($('<li/>').text('No Match'));
        } else {
          list = $('<ol/>');
          $.each(match, function(idx, val) { list.append($('<li/>').text(val)); });
          text.append(list);
        }
      }
    //]]></script>
  </head>
  <body>
    <h1>Building Javascript Regexes</h1>
    <p>Testing how regular expressions with repeated match elements are executed.</p>

    <p id="regex"></p>

    <form action="" onsubmit="match($('#string').val()); return false">
      <div><input id="string" value="translate(10, 10.5, 12)" /></div>
      <div><input type="submit" value="Match" /></div>
    </form>
  </body>
</html>
